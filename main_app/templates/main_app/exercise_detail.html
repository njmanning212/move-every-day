{% extends 'base.html' %}
{% load static %}

{% block head %}
<link 
  rel="stylesheet"
  type="text/css" 
  href="{% static 'css/exercises/details.css' %}">
  <script defer src="{% static 'js/exercise-detail.js' %}"></script>
{% endblock %}

{% block content %}
<div class="exercise-container">
  <h1>{{exercise.name}}</h1>
  <a href="{{exercise.url}}">
      <img class="video" src="{% static 'images/blank_video_thumbnail.svg' %}" alt="">
  </a>
  <div>
    {% if object.owner == request.user %}
      <h3>Change {{ exercise.name }}'s photo</h3>
      <p id="file-name"></p>
      <form 
        action="{% url 'add-photo' exercise.id %}"
        enctype="multipart/form-data"
        method="POST"
      >
        {% csrf_token %}
        <label class="btn secondary">
          Choose photo
          <input type="file" name="photo-file" id="file-input">
        </label>
        <button type="submit" class="btn submit">Upload Photo</button>
      </form>
    {% endif %}
  </div>
  <div class="category">
    <p>Category: {{exercise.get_category_display}}</p>
  </div>
  <div class="details">
    <div class="detail-card">
      <p class="detail-info">{{exercise.tempo}}</p>
      <p class="label">Tempo</p>
    </div>
    <div class="detail-card">
      <p class="detail-info">{{exercise.repetitions}}</p>
      <p class="label">Repetitions</p>
    </div>
    <div class="detail-card">
      <p class="detail-info">{{exercise.rest}}</p>
      <p class="label">Rest</p>
    </div>
    <div class="detail-card">
      <p class="detail-info">{{exercise.resistance}}</p>
      <p class="label">Resistance</p>
    </div>
    <div class="detail-card">
      <p class="detail-info">{{exercise.sets}}</p>
      <p class="label">Sets</p>
    </div>
    <div class="detail-card">
      <p class="detail-info">{{exercise.fatigue_level}}</p>
      <p class="label">Fatigue Level</p>
    </div>
  </div>
  <div class="instructions">
    <p class="label">Additional Instructions</p>
    <p>{{exercise.instructions}}</p>
  </div>
  <div class="buttons">
    {% if object.owner == request.user %}
      <a class="btn submit" href="{% url 'exercise-update' exercise.id %}">✏️ Edit</a>
      <a class="btn delete" href="{% url 'exercise-delete' exercise.id %}">❌ Delete</a>
    {% endif %}
  </div>
</div>

{% endblock %}